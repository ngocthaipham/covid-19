{"version":3,"sources":["components/Chart/ChartOfData.js","components/Detail/DetailPopup.js","components/ListCountries/ListCountries.js","App.js","reportWebVitals.js","index.js"],"names":["ChartOfData","props","today","Date","dayBefore","setDate","getDate","useState","toISOString","split","dayFrom","setDayFrom","dayTo","setDayTo","countryData","setCountryData","isChange","setIsChange","errMessage","setErrMessage","useEffect","fetch","CountrySlug","then","res","json","response","regex","err","onSubmit","e","preventDefault","test","Math","abs","failed","Object","keys","length","defaultValue","onChange","target","value","type","style","color","data","labels","map","datasets","Confirmed","label","borderColor","fill","Deaths","Recovered","options","title","display","text","legend","position","DetailPopup","countryDetail","setCountryDetail","isOpen","setIsOpen","togglePopup","CountryCode","onClick","className","name","src","flags","png","alt","population","capital","region","subregion","ListCountries","list","setList","sortType","setSortType","sorted","Countries","sort","a","b","error","alert","message","border","cellPadding","cellSpacing","item","Country","NewConfirmed","TotalConfirmed","NewDeaths","TotalDeaths","NewRecovered","TotalRecovered","Slug","ID","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.943b8e62.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\n\r\nconst ChartOfData = (props) => {\r\n    const today = new Date();\r\n    let dayBefore = new Date();\r\n    dayBefore.setDate(today.getDate() - 30);\r\n    const [dayFrom, setDayFrom] = useState(\r\n      `${dayBefore.toISOString().split('T')[0]}`\r\n    );\r\n  const [dayTo, setDayTo] = useState(\r\n    `${today.toISOString().split('T')[0]}`\r\n  );\r\n  const [countryData, setCountryData] = useState([])\r\n  const [isChange, setIsChange] = useState(false);\r\n  const [errMessage, setErrMessage] = useState();\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `https://api.covid19api.com/country/${props.CountrySlug}?from=${dayFrom}&to=${dayTo}`\r\n    )\r\n      .then((res) => res.json())\r\n      .then((response) => {\r\n        setCountryData(response);\r\n      });\r\n  }, [isChange]);\r\n  const regex = /^\\d{4}-\\d{2}-\\d{2}$/;\r\n  const err = {};\r\n\r\n  const validDate = () => {\r\n    if (!regex.test(dayFrom) || !regex.test(dayTo)) {\r\n      err.regex =\r\n        \"Invalid date: It must be YYYY/MM/DD or YYYY-MM-DD or YYYY.MM.DD\";\r\n    }\r\n    if ((Math.abs(new Date(dayTo) - new Date(dayFrom))) / (1000 * 3600 * 24) > 30) {\r\n      err.failed = \"No more than 30 days\";\r\n    }\r\n    if (Object.keys(err).length === 0) {\r\n        \r\n      setIsChange(!isChange);\r\n    }\r\n    setErrMessage(err);\r\n  };\r\n  return (\r\n    <>\r\n      <form\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          validDate();\r\n        }}\r\n      >\r\n        <label>\r\n          From\r\n          <input\r\n            defaultValue={dayFrom}\r\n            onChange={(e) => {\r\n              setDayFrom(e.target.value);\r\n            }}\r\n          />\r\n        </label>\r\n        <label>\r\n          To\r\n          <input\r\n            defaultValue={dayTo}\r\n            onChange={(e) => {\r\n              setDayTo(e.target.value);\r\n            }}\r\n          />\r\n        </label>\r\n        <button type=\"submit\">OK</button>\r\n        <br />\r\n        {errMessage && <p style={{ color: \"red\" }}>{errMessage.regex}</p>}\r\n        {errMessage && <p style={{ color: \"red\" }}>{errMessage.failed}</p>}\r\n      </form>\r\n      <Line\r\n        data={{\r\n          labels: countryData.map((data) => data.Date.split('T')[0]),\r\n          datasets: [\r\n            {\r\n              data: countryData.map((data) => data.Confirmed),\r\n              label: \"Confirmed Cases\",\r\n              borderColor: \"#3e95cd\",\r\n              fill: false,\r\n            },\r\n            {\r\n              data: countryData.map((data) => data.Deaths),\r\n              label: \"Death Cases\",\r\n              borderColor: \"#8e5ea2\",\r\n              fill: false,\r\n            },\r\n            {\r\n              data: countryData.map((data) => data.Recovered),\r\n              label: \"Recovered Cases\",\r\n              borderColor: \"#3cba9f\",\r\n              fill: false,\r\n            },\r\n          ],\r\n        }}\r\n        options={{\r\n          title: {\r\n            display: true,\r\n            text: \"World population per region (in millions)\",\r\n          },\r\n          legend: {\r\n            display: true,\r\n            position: \"bottom\",\r\n          },\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\nexport default ChartOfData;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ChartOfData from \"../Chart/ChartOfData.js\";\r\nimport \"./DetailPopup.css\";\r\n\r\nconst DetailPopup = (props) => {\r\n  const [countryDetail, setCountryDetail] = useState();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const togglePopup = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(`https://restcountries.com/v2/alpha/${props.CountryCode}`)\r\n      .then((res) => res.json())\r\n      .then((response) => {\r\n        setCountryDetail(response);\r\n      });\r\n  }, []);\r\n  return (\r\n    <>\r\n  <div>\r\n      <input type=\"button\" value=\"Detail\" onClick={togglePopup} />\r\n    {isOpen && countryDetail && (\r\n      <div>\r\n      <div className=\"popup-box\">\r\n        <div className=\"box\">\r\n          <div>\r\n            <span className=\"close-icon\" onClick={togglePopup}>\r\n              x\r\n            </span>\r\n            <p>Country: {countryDetail.name}</p>\r\n            <img src={`${countryDetail.flags.png}`} alt=\"flags\" />\r\n            <p>Population: {countryDetail.population}</p>\r\n            <p>Capital: {countryDetail.capital}</p>\r\n            <p>Region: {countryDetail.region}</p>\r\n            <p>SubRegion: {countryDetail.subregion}</p>\r\n          </div>\r\n          <div>\r\n            <ChartOfData CountrySlug={props.CountrySlug} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    )}\r\n  </div>\r\n  </>\r\n  );\r\n};\r\n\r\nexport default DetailPopup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport DetailPopup from \"../Detail/DetailPopup\";\r\n\r\nconst ListCountries = () => {\r\n  const [list, setList] = useState([]);\r\n  const [sortType, setSortType] = useState(`TotalConfirmed`);\r\n\r\n  useEffect(() => {\r\n    fetch(`https://api.covid19api.com/summary`)\r\n      .then((res) => res.json())\r\n      .then(\r\n        (response) => {\r\n          const sorted = response.Countries.sort(\r\n            (a, b) => b[sortType] - a[sortType]\r\n          );\r\n          setList(sorted);\r\n        },\r\n        (error) => {\r\n          alert(error.message);\r\n        }\r\n      );\r\n  }, [sortType]);\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <h3>\r\n          Countries affected by Covid-19 sort by{\" \"}\r\n          <select\r\n            onChange={(e) => {\r\n              setSortType(e.target.value);\r\n            }}\r\n          >\r\n            <option>TotalConfirmed</option>\r\n            <option>TotalDeaths</option>\r\n            <option>TotalRecovered</option>\r\n          </select>\r\n        </h3>\r\n        <table border=\"1px\" cellPadding=\"5px\" cellSpacing=\"2px\">\r\n          <thead>\r\n            <tr>\r\n              <th>Country</th>\r\n              <th>New Confirmed Cases</th>\r\n              <th>Total Confirmed Cases</th>\r\n              <th>New Death Cases</th>\r\n              <th>Total Death Cases</th> <th>New Recovered Cases</th>\r\n              <th>Total Recovered Cases</th>\r\n              <th>Last Updated</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {list.map((item) => (\r\n              <tr key={item.ID}>\r\n                <td>{item.Country}</td>\r\n                <td>{item.NewConfirmed}</td>\r\n                <td>{item.TotalConfirmed}</td>\r\n                <td>{item.NewDeaths}</td>\r\n                <td>{item.TotalDeaths}</td>\r\n                <td>{item.NewRecovered}</td>\r\n                <td>{item.TotalRecovered}</td>\r\n                <td>\r\n                  {item.Date.split(\"T\")[0]}\r\n                  <DetailPopup\r\n                    CountryCode={item.CountryCode}\r\n                    CountrySlug={item.Slug}\r\n                  />\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default ListCountries;\r\n","import './App.css';\nimport ListCountries from './components/ListCountries/ListCountries';\nfunction App() {\n  return (\n  <>\n  <ListCountries />\n  </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}